<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handling Error in Callback</title>
    <!-- CSS Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>

    </style>
</head>

<body>
    <h1>Handling Error in Callback</h1>

    <script>
        console.log("Handling Error in Callback");

        // function loadScript(srcode, callback) {
        //     let script = document.createElement("script");
        //     script.src = srcode;
        //     document.body.appendChild(script);

        //     script.onload = function () {
        //         callback();
        //     }
        // }

        // function success() {
        //     console.log("Script Loaded Successfully");
        // }
        
        // loadScript("https://cdn.AAAAAAAjsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js",success);
        // // error name not resolved
        
        function loadScript(srcode, callback) {
            let script = document.createElement("script");
            script.src = srcode;
            document.body.appendChild(script);
            
            script.onload = function () {
                callback(null, srcode);
            }

            script.onerror = function () {
                console.log("Error Loading invalid source code or source code not found " + srcode)
                callback(new Error("source code got some errors"));
            }
        }

        function success(error, msg) {
            if (error) {
                console.log(error);
            }
            else {
                alert("Script Loaded Successfully\n" + msg);
            }
        }
        
        loadScript("https://cdn.AAAAAAAjsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js",success);
        // loadScript("https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js",success);
    </script>
</body>
</html>