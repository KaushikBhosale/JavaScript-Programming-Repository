<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sending Post Request With Fetch API</title>
    <!-- CSS Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>

    </style>
</head>

<body>
    <h1>Sending Post Request With Fetch API</h1>

    <script>
        // let options = {
        //     method: 'POST',
        //     headers: {
        //         "Content-type": 'application/json'
        //     },
        //     body: JSON.stringify({
        //         title: 'Kaushik',
        //         body: 'Bhai',
        //         userId: 1999,
        //     }),
        // }

        // fetch('https://jsonplaceholder.typicode.com/posts', options)
        //     .then((response) => response.json())
        //     .then((json) => console.log(json));

        const createTodo = async (td) => {

            let options = {
                method: 'POST',
                headers: {
                    "Content-type": 'application/json'
                },
                body: JSON.stringify(td)
            }

            let p = await fetch('https://jsonplaceholder.typicode.com/posts', options)
            let response = await p.json();
            return response;
        }
        const getTodo = async (id) => {
            let res = await fetch('https://jsonplaceholder.typicode.com/posts/'+id)
            let r = await res.json();
            return r;
        }
        let mainFunc = async () => {
            let todo = {
                title: 'Kaushik',
                body: 'Bhai',
                userId: 1999,
            }
            let todoR = await createTodo(todo);
            console.log(todoR);
            console.log(await getTodo(101));
            console.log("Done");
        }
        mainFunc();

    </script>

    <!-- JS Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body>

</html>